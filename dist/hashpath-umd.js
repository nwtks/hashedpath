!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.hashpath=n()}(this,function(){"use strict";function e(n){var e=n.tos,t=n.other,r=window.location.hash;if(n.path=r){var o=r.split("/");if(o.length)for(var i=0;i<e.length;i+=1){var h=e[i].path;if(o.length===h.length){for(var u=Object.create(null),f=!0,a=0;a<h.length;a+=1){var d=h[a];if(":"===d[0])u[d.substring(1)]=o[a];else if(d!==o[a]){f=!1;break}}if(f){var l=e[i].to(u);return void(l.then?l.then(function(e){n.render=e,n.render()}):(n.render=l,n.render()))}}}}t.then?t.then(function(e){n.render=e,n.render()}):(n.render=t,n.render())}return function(){var t={path:null,render:null,tos:[],other:null,route:function(e,n){return e&&n&&("*"===e?t.other=n:t.tos.push({path:e.split("/"),to:n})),t},redirect:function(e){window.location.hash=e},start:function(){window.addEventListener("hashchange",function(){return e(t)}),e(t)}};return t}});
