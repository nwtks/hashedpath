!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.hashpath=n()}(this,function(){"use strict";var l=window.location;function e(n){var e=n.tos,t=n.other,r=l.hash;if(n.path=r){var h=r.split("/");if(h.length)for(var i=0;i<e.length;i+=1){var o=e[i].path;if(h.length===o.length){for(var a=Object.create(null),s=!0,u=0;u<o.length;u+=1){var f=o[u];if(":"===f[0])a[f.substring(1)]=h[u];else if(f!==h[u]){s=!1;break}}if(s)return void e[i].to(a,c)}}}function c(e){n.render=e,n.render()}t({},c)}return function(){var t={path:null,render:null,tos:[],other:null,hashchangeListener:null,route:function(e,n){return e&&n&&("*"===e?t.other=n:t.tos.push({path:e.split("/"),to:n})),t},redirect:function(e){l.hash=e},start:function(){t.hashchangeListener=function(){return e(t)},window.addEventListener("hashchange",t.hashchangeListener),e(t)},stop:function(){window.removeEventListener("hashchange",t.hashchangeListener)}};return t}});
