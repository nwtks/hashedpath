!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.hashedpath=n()}(this,function(){"use strict";var n=window.location,r=function(t,n,e){var r=t.tos,o=t.other;if(t.path=e){var i=e.split("/");if(i.length)for(var s=0;s<r.length;s+=1){var u=r[s],h=u.path;if(i.length===h.length){for(var l=Object.create(null),a=!0,f=0;f<h.length;f+=1){var c=h[f],d=i[f];if(":"===c[0])l[c.substring(1)]=d;else if(c!==d){a=!1;break}}if(a)return void u.to(l,n)}}}o({},n)};return function(){var e={path:null,render:null,tos:[],other:null,lstnr:null,route:function(t,n){return t&&n&&("*"===t?e.other=n:e.tos.push({path:t.split("/"),to:n})),e},redirect:function(t){return n.hash=t},start:function(){e.lstnr&&e.stop(),e.lstnr=function(){return r(e,t,n.hash)},window.addEventListener("hashchange",e.lstnr),r(e,t,n.hash)},stop:function(){window.removeEventListener("hashchange",e.lstnr),e.lstnr=null}},t=function(t){e.render=t,e.render()};return e}});
